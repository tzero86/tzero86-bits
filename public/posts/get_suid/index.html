<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tzero86@trojanwave/posts/get_suid/</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://tzero86bits.tk/hugo-theme-console/css/terminal-0.7.1.min.css">
    <link rel="stylesheet" href="https://tzero86bits.tk/hugo-theme-console/css/animate-3.7.2.min.css">
    <link rel="stylesheet" href="https://tzero86bits.tk/hugo-theme-console/css/console.css">
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <link rel="icon" href="https://tzero86bits.tk/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tzero86bits.tk/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tzero86bits.tk/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tzero86bits.tk/apple-touch-icon.png">
<link rel="mask-icon" href="https://tzero86bits.tk/safari-pinned-tab.svg">
<meta name="theme-color" content="#1d1e20">
<meta name="msapplication-TileColor" content="#1d1e20"><meta property="og:title" content="Get_SUID.sh" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tzero86bits.tk/posts/get_suid/" /><meta property="article:published_time" content="2020-08-15T18:13:59-04:00" />



<meta name="twitter:title" content="Get_SUID.sh"/>
<meta name="twitter:description" content="#How to locate SUID Files using Find command#  In Linux, SUID (set owner userId upon execution) is a special type of &gt;file permission given to a file. SUID gives temporary permissions to a &gt;user to run the program/file with the permission of the file owner (rather &gt;than the user who runs it). {TryHackme}
 For example, the binary file to change your password has the SUID bit set on it (/usr/bin/passwd)."/>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-175520987-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
</head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://tzero86bits.tk/" class="no-style site-name">Tzero86@trojanwave</a>:~# 
              <a href='https://tzero86bits.tk/posts'>posts</a>/<a href='https://tzero86bits.tk/posts/get_suid'>get_suid</a>/</div></header>
          <nav class="terminal-menu">
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                <li><a href="https://tzero86bits.tk/about/" typeof="ListItem">about/</a></li>
                
                <li><a href="https://tzero86bits.tk/posts/" typeof="ListItem">posts/</a></li>
                
            </ul>
          </nav>
        </div>
    </div>

    <div class="container animated zoomIn fast" >
        
<h1>Get_SUID.sh</h1>
Aug. 15, 2020


<br/><br/>
<img src="../img/get_suid.png" alt="Post Cover Gif animation"; style="width:100%;height:auto;left:0;right:0;margin:0 auto;text-align:center; border-radius:1%">
<br/><br/>
<h2 id="how-to-locate-suid-files-using-find-command">#How to locate SUID Files using Find command#</h2>
<blockquote>
<p>In Linux, <strong>SUID</strong> (set owner userId upon execution) is  a special type of &gt;file permission given to a file. <strong><em>SUID gives temporary  permissions to a &gt;user to run the program/file with the permission of  the file owner (rather &gt;than the user who runs it)</em></strong>. <strong><em>{TryHackme}</em></strong></p>
</blockquote>
<p>For example,  the binary file to change your password has the SUID bit set on it  <strong><em>(/usr/bin/passwd)</em></strong>. This is because to change your password, it will need  to write to the shadowers file that you do not have access to, root  does, so it has root privileges to make the right changes.</p>

    <img src="../img/suid.png"  alt="Hello Friend"  class="center"  style="border-radius: 1px; padding: 20px"  />

<p>Let&rsquo;s try to understand what SUID, SGID and the Stickly bits mean:</p>
<ul>
<li>
<p><strong>SUID bit</strong>:</p>
<ul>
<li>On Files: User executes the file with permissions of the owner.</li>
<li>On Directories: nothing.</li>
</ul>
</li>
<li>
<p><strong>SGID bit</strong>:</p>
<ul>
<li>On Files: User executes the file with permissions of the group owner.</li>
<li>On Directories: Files created in directory get same permissions as group owner.</li>
</ul>
</li>
<li>
<p><strong>Sticky bit</strong>:</p>
<ul>
<li>On Files: No use.</li>
<li>On Directories: Users are blocked from deleting files from other users.</li>
</ul>
</li>
</ul>
<p>SUID  bits can be dangerous, some binaries such as passwd need to be run with elevated privileges (as its resetting your password on the system), however other custom files could that have the SUID bit can lead to all  sorts of issues.</p>
<p>To search the a system for these type of files, we can use the <strong>find</strong> command like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">find / -perm -u<span style="color:#f92672">=</span>s -type f 2&gt;/dev/null
</code></pre></div><p>This will find all files that current user <em><strong>-u=s</strong></em> has permissions <em><strong>-perm</strong></em> to access, making sure they are file type <em><strong>-type file</strong></em> and will not show any errors due to lack of access to any file <em><strong>2&gt;/dev/null</strong></em></p>
<p>Alternatively we can also do this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">find / -user root -perm /4000  2&gt;&amp;<span style="color:#ae81ff">1</span> | grep -v <span style="color:#e6db74">&#34;Permission denied&#34;</span>
</code></pre></div><ul>
<li><strong>find /</strong>: we start the search on the root directory.</li>
<li><strong>-user root</strong>: files owned by root user.</li>
<li><strong>-perm /4000</strong>: files with octal format equivalent for SUID.</li>
<li><strong>2&gt;&amp;1</strong>: redirect any standar error messages as a standar output.</li>
<li><strong>|</strong>: The pipe character takes the output of previous command as input of the next command.</li>
<li><strong>grep -v &ldquo;Permission denied&rdquo;</strong>: We use grep to filter out any result including access errors. <strong>-v</strong> means inverse, so it will skip any files with the permissions denied message in it.</li>
</ul>
<p>Happy hacking.</p>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<br>
<div class="container center" style="margin:10px !important;  text-align: center!important">
    <div class="center">
        <script src="https://tryhackme.com/badge/71634"></script>
    </div>
    <div class="center">
        <a href="https://twitter.com/Tzero86" target="_blank" class="fa fa-twitter" style="text-decoration: none !important;  font-size: 30px; padding: 5px"></a>
        <a href="https://github.com/Tzero86" target="_blank" class="fa fa-github" style="text-decoration: none !important;  font-size: 30px; padding: 5px"></a> 
        <a href="https://www.linkedin.com/in/ermedina86/" target="_blank" class="fa fa-linkedin" style="text-decoration: none !important;  font-size: 30px; padding: 5px"></a> 
        <br> 
    </div>
</div>

<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tzero86bits" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        <div class="footer">
    Made with <a href="https://gohugo.io/">Hugo</a> based of
    <a href="https://github.com/mrmierzejewski/hugo-theme-console/">Console Theme</a>. 
    Noli umquam discere desinere.
</div>

    </div>
  </body>
</html>
